<div class="container-fluid">
    <div class="sidebar">
        <ul>
            <li (click)="goToHome()"><i class="fa-solid fa-house margin-si" style="margin-left: -3px;"></i></li>
            <span class="span-style text-center mb-3">Inicio</span>

            <li (click)="sidebarOptions(0)"><span
                    [ngClass]="{'': optionsArray[0] == false, 'sidebar-selected': optionsArray[0] == true}"><i
                        class="fa-solid fa-clipboard margin-si"></i></span></li>
            <span class="span-style text-center mb-3"
                [ngClass]="{'': optionsArray[0] == false, 'sidebar-selected': optionsArray[0] == true}">Gestión</span>

            <li (click)="sidebarOptions(1)"><span
                    [ngClass]="{'': optionsArray[1] == false, 'sidebar-selected': optionsArray[1] == true}"><i
                        class="fa-solid fa-calculator margin-si"></i></span></li>
            <span class="span-style text-center mb-3"
                [ngClass]="{'': optionsArray[1] == false, 'sidebar-selected': optionsArray[1] == true}">Asignación</span>

            <li (click)="sidebarOptions(2)"><span
                    [ngClass]="{'': optionsArray[2] == false, 'sidebar-selected': optionsArray[2] == true}"><i
                        class="fa-solid fa-file-signature margin-si"></i></span></li>
            <span class="span-style text-center mb-3"
                [ngClass]="{'': optionsArray[2] == false, 'sidebar-selected': optionsArray[2] == true}">Acuerdo</span>

            <li (click)="sidebarOptions(3)"><span
                    [ngClass]="{'': optionsArray[3] == false, 'sidebar-selected': optionsArray[3] == true}"><i
                        class="fa-solid fa-list-check margin-si"></i></span></li>
            <span class="span-style text-center mb-3"
                [ngClass]="{'': optionsArray[3] == false, 'sidebar-selected': optionsArray[3] == true}">Tarea</span>

            <li (click)="sidebarOptions(4)"><span
                    [ngClass]="{'': optionsArray[4] == false, 'sidebar-selected': optionsArray[4] == true}"><i
                        class="fa-solid fa-bell margin-si"></i></span></li>
            <span class="span-style text-center mb-3"
                [ngClass]="{'': optionsArray[4] == false, 'sidebar-selected': optionsArray[4] == true}">Evento</span>

            <li (click)="sidebarOptions(5)"><span
                    [ngClass]="{'': optionsArray[5] == false, 'sidebar-selected': optionsArray[5] == true}"><i
                        class="fa-solid fa-user-shield margin-si"></i></span></li>
            <span class="span-style text-center mb-3"
                [ngClass]="{'': optionsArray[5] == false, 'sidebar-selected': optionsArray[5] == true}">Localización</span>
        </ul>
    </div>

    <div class="options" id="options">

        <!-- MODO GESTION -->
        <div class="card" *ngIf="optionsArray[0]">
            <div class="card-header text-center align-middle" style="margin-top: -5px; padding-bottom: 10px;"
                [ngClass]="{'card-mode-disabled': !gestionMode , 'card-mode-activate': gestionMode}">
                <div class="row mt-3">
                    <div class="col-md-8">Modo Gestión</div>
                    <div class="col-md-2">
                        <div class="form-check form-switch">
                            <input class="form-check-input" [(ngModel)]="gestionMode" type="checkbox" role="switch"
                                [checked]="false">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body" style="padding: 0;">
                <div class="input-group input-group-sm">
                    <div class="input-group-prepend">
                        <button class="btn bg-search border-search"><i class="fa fa-search"></i></button>
                    </div>
                    <input type="text" class="form-control border-search" placeholder="Buscar Cliente">
                </div>


                <div class="accordion" id="accordionGestion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#accordionCuenta">
                                Cuenta Por Cobrar
                            </button>
                        </h2>
                        <div id="accordionCuenta" class="accordion-collapse collapse"
                            data-bs-parent="#accordionGestion">
                            <div class="accordion-body p-0">
                                <a *ngFor="let s of arraySidebar; let i = index" class="list-group-item"
                                    [ngClass]="{'': !s.var , 'bg-gray': s.var}" [routerLink]="s.url">
                                    <div class="d-flex w-100 justify-content-center">
                                        <button class="btn-disabled" [disabled]="s.disabled" (click)="changeVar(i)">
                                            <h6 class="mb-1 font" [ngClass]="{'': !s.var , 'color-white': s.var}">{{
                                                s.name }}</h6>
                                        </button>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ASIGNACION -->
        <div class="card" *ngIf="optionsArray[1]">
            <div class="card-header text-center align-middle" style="margin-top: -5px; padding-bottom: 10px;"
                [ngClass]="{'card-mode-disabled': !asigMode , 'card-mode-activate': asigMode}">
                <div class="row mt-3">
                    <div class="col-md-8">Asignación</div>
                    <div class="col-md-2">
                        <div class="form-check form-switch">
                            <input class="form-check-input" [(ngModel)]="asigMode" type="checkbox" role="switch"
                                [checked]="false">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body" style="padding: 0;">
                <div class="input-group input-group-sm">
                    <div class="input-group-prepend">
                        <button class="btn bg-search border-search"><i class="fa fa-search"></i></button>
                    </div>
                    <input type="text" class="form-control border-search" placeholder="Buscar Cliente">
                </div>

                <!-- LISTADO -->
                <div class="accordion" id="accordionAsig">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed accordion-list" type="button"
                                data-bs-toggle="collapse" data-bs-target="#accordionListado">
                                Lista De Cuentas
                            </button>
                        </h2>
                        <div id="accordionListado" class="accordion-collapse collapse" data-bs-parent="#accordionAsig">
                            <div class="accordion-body p-0">
                                <!-- FILTROS  -->
                                <div class="accordion" id="accordionFiltros">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed accordion-filtros" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#accordionF">
                                                Filtros
                                            </button>
                                        </h2>
                                        <div id="accordionF" class="accordion-collapse collapse"
                                            data-bs-parent="#accordionFiltros">
                                            <div class="accordion-body p-0">
                                                <!-- <a *ngFor="let s of arraySidebar; let i = index" class="list-group-item"
                                                [ngClass]="{'': !s.var , 'bg-gray': s.var}" [routerLink]="s.url">
                                                <div class="d-flex w-100 justify-content-center">
                                                    <button class="btn-disabled" [disabled]="s.disabled" (click)="changeVar(i)">
                                                        <h6 class="mb-1 font" [ngClass]="{'': !s.var , 'color-white': s.var}">{{
                                                            s.name }}</h6>
                                                    </button>
                                                </div>
                                            </a> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- COLUMNAS -->
                                <div class="accordion" id="accordionCol">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed accordion-columns" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#accordionC">
                                                Columnas
                                            </button>
                                        </h2>
                                        <div id="accordionC" class="accordion-collapse collapse"
                                            data-bs-parent="#accordionCol">
                                            <div class="accordion-body p-0">
                                                <div class="form-check" *ngFor="let col of columnsStatic">
                                                    <input class="form-check-input" type="checkbox"
                                                        (click)="hideColumna(col)">
                                                    <label class="form-check-label">
                                                        {{ col }}
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CUENTAS RECIENTES -->
                <a class="list-group-item a-cuentas mt-3" *ngIf="cuentasRecientes.length > 0">
                    <h6 class="mb-1 font">Cuentas Abiertas</h6>
                </a>
                <div class="accordion" id="accordionCuentas" *ngFor="let c of cuentasRecientes">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed accordion-filtros" type="button"
                                data-bs-toggle="collapse" data-bs-target="#accordionR">
                                {{ c }}
                                <button class="btn bg-red btn-sm" (click)="deleteCuenta(c)"><i
                                        class="fa-solid fa-trash fa-xs"></i></button>
                            </button>
                        </h2>
                        <div id="accordionR" class="accordion-collapse collapse" data-bs-parent="#accordionCuentas">
                            <div class="accordion-body p-0">
                                <a *ngFor="let s of arraySidebar; let i = index" class="list-group-item"
                                    [ngClass]="{'': !s.var , 'bg-gray': s.var}" [routerLink]="s.url">
                                    <div class="d-flex w-100 justify-content-center">
                                        <button class="btn-disabled" [disabled]="s.disabled" (click)="changeVar(i)">
                                            <h6 class="mb-1 font" [ngClass]="{'': !s.var , 'color-white': s.var}">{{
                                                s.name }}</h6>
                                        </button>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card floating-card" *ngIf="optionsArray[0] || optionsArray[1]">
    <!-- MODO GESTION -->
    <div *ngIf="optionsArray[0]" class="card-header text-center align-middle"
        style="margin-top: -5px; padding-bottom: 10px;"
        [ngClass]="{'card-mode-disabled': !gestionMode , 'card-mode-activate': gestionMode}">
        <div class="row mt-3">
            <div class="col-md-8">Modo Gestión</div>
            <div class="col-md-2">
                <div class="form-check form-switch">
                    <input class="form-check-input" [(ngModel)]="gestionMode" type="checkbox" role="switch"
                        [checked]="false">
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="optionsArray[1]" class="card-header text-center align-middle"
        style="margin-top: -5px; padding-bottom: 10px;"
        [ngClass]="{'card-mode-disabled': !asigMode , 'card-mode-activate': asigMode}">
        <div class="row mt-3">
            <div class="col-md-8">Asignación</div>
            <div class="col-md-2">
                <div class="form-check form-switch">
                    <input class="form-check-input" [(ngModel)]="asigMode" type="checkbox" role="switch"
                        [checked]="false">
                </div>
            </div>
        </div>
    </div>
</div>